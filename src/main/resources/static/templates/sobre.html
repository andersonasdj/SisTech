<!DOCTYPE html>
<html lang="br">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/stylePerfil.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<title>SisTech - TechGold</title>
	<style>
		
		@media (max-width: 860px) {
				
				[class*="col-"] {
				  width: 50%;
				}
				
				@media only screen and (min-width: 300px) {
				  /* For tablets: */
				  .col-s-1 {width: 8.33%;}
				  .col-s-2 {width: 16.66%;}
				  .col-s-3 {width: 25%;}
				  .col-s-4 {width: 33.33%;}
				  .col-s-5 {width: 41.66%;}
				  .col-s-6 {width: 50%;}
				  .col-s-7 {width: 58.33%;}
				  .col-s-8 {width: 66.66%;}
				  .col-s-9 {width: 75%;}
				  .col-s-10 {width: 83.33%;}
				  .col-s-11 {width: 91.66%;}
				  .col-s-12 {width: 100%;}
				}
				
			}
		
	</style>
</head>

<body>
	<div class="container">
		<br />
		<!-- ############################################## BARRA DE NAVEGAÇÃO ################################################### -->
		<nav class="navbar navbar-expand-lg bg-light">
			<div class="container-fluid">
				<a class="navbar-brand" href="/sistech/home"><img src="./assets/img/key.png" style="height: 18px;"> SisTech</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
					data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
					aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<a class="nav-link active" aria-current="page" href="/sistech/home">Início</a>
						</li>
						
							<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
								aria-expanded="false">
								Solicitações
							</a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="/sistech/solicitacao/form">Novo</a></li>
								<li><a class="dropdown-item" href="/sistech/solicitacao/list">Listar</a></li>
								<li>
									<hr class="dropdown-divider">
								</li>
								<li><a class="dropdown-item" href="/sistech/solicitacao/relatorios">Relatórios</a></li>
							</ul>
						</li>
						
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
								aria-expanded="false">
								Clientes
							</a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="/sistech/cliente/list">Listar</a></li>
								<li><a class="dropdown-item" href="/sistech/cliente/form">Novo</a></li>
							</ul>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
								aria-expanded="false">
								Funcionarios
							</a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="/sistech/funcionario/list">Listar</a></li>
								<li><a class="dropdown-item" href="/sistech/funcionario/form">Novo</a></li>
							</ul>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
								aria-expanded="false">
								Dashboard
							</a>
							<ul class="dropdown-menu">
								<li>
									<a class="dropdown-item" href="/sistech/solicitacao/dashboard/geral">Solicitações ativas</a></li>
									<a class="dropdown-item" href="/sistech/solicitacao/dashboard/cliente">Cliente</a></li>
							</ul>
						</li>
					</ul>
					<ul class="navbar-nav mb-3 mb-lg-0">
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" id="perfil" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"></a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="/sistech/funcionario/perfil">Perfil</a></li>
								<li>
									<hr class="dropdown-divider">
								</li>
								<li><a class="dropdown-item" href="/sistech/logAcesso">Logs Acesso</a></li>
								<li><a class="dropdown-item" href="/sistech/configuracoes">Configurações</a></li><li>
								<li>
									<hr class="dropdown-divider">
								</li>
								<li><a class="dropdown-item" href="/sistech/sobre">Sobre</a></li>
							</ul>
						</li>
							<a href="/sistech/logout">
								<i class="bi bi-power"style="font-size: 2rem; color: cornflowerblue;"></i>
							</a>
					</ul>
				</div>
			</div>
		</nav>
		<!-- ############################################## BARRA DE NAVEGAÇÃO ################################################### -->

		<hr class="bg-danger border-2 border-top border-danger">
		 
		 	<br/>
			<h4>Sobre o SisTech</h4>

			<p>Sistema para controle e relatórios de solicitações de TI.</p>
			<p>Versão (1.0) <a href="#">Novidades</a> </p>
			<p>Desenvolvido por <u>Anderson de Araujo</u> TechGold tecnologia.</p>
			
			<p></p>
			
			<p><a href="/sistech/funcionalidades"> Funcionalidades </a></p>
		
		<br/><br/>
		
		<br/><br/>
		<footer class="text-center text-white">
			<div class="container">
				<!-- Grid container -->
			<div class="p-4 pb-0">
				<!-- Section: Social media -->
				<section class="mb-4">
					<a class="btn btn-primary btn-floating m-1" style="background-color: rgb(0,191,255);" href="#!"
							role="button"></a>
						<a class="btn btn-primary btn-floating m-1" style="background-color: rgb(30,144,255);" href="#!"
							role="button"></a>
						<a class="btn btn-primary btn-floating m-1" style="background-color: rgb(65,105,225);" href="#!"
							role="button"></a>
						<a class="btn btn-primary btn-floating m-1" style="background-color: rgb(0,0,255);" href="#!"
							role="button"></a>
						<a class="btn btn-primary btn-floating m-1" style="background-color: rgb(0,0,205);" href="#!"
							role="button"></a>
						<a class="btn btn-primary btn-floating m-1" style="background-color: rgb(0,0,128);" href="#!"
							role="button"></a>
				</section>
				<!-- Section: Social media -->
			</div>
			<!-- Grid container -->

			<!-- Copyright -->
			<div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
				© 2024 Copyright:
				<a class="text-white" href="#">TechGold</a>
			</div>
			<!-- Copyright -->
			</footer>
		</footer>
	</div>

	<script src="assets/js/jquery-3.6.3.js"></script>
	<script src="assets/js/popper.min.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<script src="assets/js/chart.js"></script>
	<script>
		$(document).ready(function () {

				$.ajax({
					url: "/sistech/funcionarios/home",
					type: "GET",
					success: function (data) {
						$('#saudacao').text(data.saudacao);
						$('#nomeFuncionario').text(data.nomeFuncionario);
						$('#dataUltimoLogin').text("Ultimo login: " + data.dataUltimoLogin);
						
						const ctx = document.getElementById('minhasSolicitacoes');
						new Chart(ctx, {
					    type: 'bar',
					    data: {
					      labels: ['Abertas', 'Andamento', 'Agendados', 'Aguardando','Pausado'],
					      datasets: [{
					        label: 'Minhas Solicitações: ' + data.solicitacoes.total,
					        data: [data.solicitacoes.abertas, data.solicitacoes.andamento, data.solicitacoes.agendados, data.solicitacoes.aguardando, data.solicitacoes.pausado],
					         backgroundColor: [
							      'rgba(255, 99, 132, 0.2)',
							      'rgba(0, 150, 255, 0.2)',
							      'rgba(255, 205, 86, 0.2)',
							      'rgba(121, 125, 127, 0.2)',
							      'rgba(54, 162, 235, 0.2)',
							      'rgba(153, 102, 255, 0.2)',
							      'rgba(201, 203, 207, 0.2)'
							    ],
							    borderColor: [
							      'rgb(255, 99, 132)',
							      'rgb(0, 150, 255)',
							      'rgb(255, 205, 86)',
							      'rgb(121, 125, 127)',
							      'rgb(54, 162, 235)',
							      'rgb(153, 102, 255)',
							      'rgb(201, 203, 207)'
					    	],
					        borderWidth: 1
					      }]
					    },
					    options: {
							 responsive: true,
						     scales: { y: { min: 0, max: data.solicitacoes.total } } 
						}
					  });
					  
					  const ctx2 = document.getElementById('geralSolicitacoes');
					  new Chart(ctx2, {
					    type: 'line',
					    data: {
					      labels: ['Abertas', 'Andamento', 'Agendados', 'Aguardando','Pausado'],
					      datasets: [{
					        label: 'Solicitações gerais: ' + data.gerais.total,
					        data: [data.gerais.abertas, data.gerais.andamento, data.gerais.agendados, data.gerais.aguardando, data.gerais.pausado],
					         backgroundColor: [
							      'rgba(255, 99, 132, 0.2)',
							      'rgba(0, 150, 255, 0.2)',
							      'rgba(255, 205, 86, 0.2)',
							      'rgba(121, 125, 127, 0.2)',
							      'rgba(54, 162, 235, 0.2)',
							      'rgba(153, 102, 255, 0.2)',
							      'rgba(201, 203, 207, 0.2)'
							    ],
							    borderColor: [
							      'rgb(255, 99, 132)',
							      'rgb(0, 150, 255)',
							      'rgb(255, 205, 86)',
							      'rgb(121, 125, 127)',
							      'rgb(54, 162, 235)',
							      'rgb(153, 102, 255)',
							      'rgb(201, 203, 207)'
					    	],
					        borderWidth: 1
					      }]
					    },
					    options: {
							 responsive: true,
						      scales: { y: { min: 0, max: data.gerais.total } }
						}
					  });
					},
					erro: function (request, status, error) { 
					},
					complete: function (data) { }
				})
		});
	</script>
	<script>
		setInterval(() => {
		  const month = ["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julio","Agosto","Setembro","Outubro","Novembro","Dezembro"];
		  const weekday = ["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sabado"];
		
		  // Day
		  let months = document.getElementById("months");
		  let days = document.getElementById("days");
		  let dates = document.getElementById("dates");
		  let years = document.getElementById("years");
		
		  // time
		  let hours = document.getElementById("hours");
		  let minutes = document.getElementById("minutes");
		  let seconds = document.getElementById("seconds");
		  let ampm = document.getElementById("ampm");
		
		  //Date
		  let ma = month[new Date().getMonth()];
		  let dy = weekday[new Date().getUTCDay()];
		  let dt = new Date().getDate();
		  let yr = new Date().getFullYear();
		
		  //time
		  let h = new Date().getHours();
		  let m = new Date().getMinutes();
		  let s = new Date().getSeconds();
		  let am = h >= 12 ? "PM" : "AM";
		
		  //convart time 12 hours
		  if (h > 12){
		    h = h - 12;
		  }
		
		  // add zero
		  h = (h < 10) ? "0" + h : h;
		  m = (m < 10) ? "0" + m : m;
		  s = (s < 10) ? "0" + s : s;
		  dt = (dt < 10) ? "0" + dt : dt;
		
		  // date
		  months.innerHTML = ma;
		  days.innerHTML = dy;
		  dates.innerHTML = dt;
		  years.innerHTML = yr;
		
		  // time
		  hours.innerHTML = h;
		  minutes.innerHTML = m;
		  seconds.innerHTML = s;
		  ampm.innerHTML = am;
		})
	</script>
</body>
</html>